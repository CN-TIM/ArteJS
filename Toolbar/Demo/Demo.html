<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
	<head>
	    <title>Rich text editor</title>
	    <link rel="stylesheet" href="../bootstrap/css/bootstrap.css" />
        <link rel="stylesheet" href="demo.css"/>
        <link rel="stylesheet" href="arte.css" />
        <link rel="stylesheet" href="toolbar.css" />
        <link rel="Stylesheet" href="bootstrap/css/bootstrap.css" />
	</head>
    <body>
        <div>        
            Configuration
            <div>
               <h3>Editor Configuration</h3> 

                <div class="commandAttrTypeSelector">
                    Command Attribute Type
                    <label class="radio">
                        <input type="radio" name="attrType" value="className"/> Class 
                    </label>
                    <label class="radio">
                        <input type="radio" name="attrType" value="styleName"/> Style
                    </label>
                    <label class="radio">
                        <input type="radio" name="attrType" value="tagName"/> Tag
                    </label>
                </div>

            </div>
            <div>
            <h3>Toolbar Configuration</h3> 
            <label class="checkbox">
              <input type="checkbox" value="focus"> Require Focus
            </label>
            </div>
        </div>

        <div class="box" id="text_editor">
            <div class="toolbar"></div>
            <div class="editor"></div>
        </div>

        <div class="box">
            Non-editable HTML
            <div class="result"></div>
        </div>
        
        <div class="box">
            Markup
            <div class="resultHtml"></div>
        </div>
                                
        <!--Included the Rich text files-->

        <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="../../Release/V0.1/Rangy.debug.js"></script>
        <script type="text/javascript" src="../../Release/V0.1/Arte.debug.js"></script>
        
        <script type="text/javascript" src="../toolbar.js"></script>
        
        <script type="text/javascript" src="../Buttons/Button.js"></script>
        <script type="text/javascript" src="../Buttons/ButtonWithDropDown.js"></script>
        <script type="text/javascript" src="../Buttons/ButtonWithDialog.js"></script>
        
        <script type="text/javascript" src="../Configuration.js"></script>
        <script type="text/javascript" src="../SelectionManager.js"></script>

        <script type="text/javascript">
            $.Arte.Toolbar.configuration.classes.selected = "btn-primary";

            var createEditor = function () {
                // List of buttons 
                var buttons = ["bold", "italic", "underline", "blockquote",
                    "textAlignLeft", "textAlignCenter", "textAlignRight",
                    "h1", "h2", "h3", "h4", "h5", "h6",
                    "subscript", "superscript", "unorderedList", "orderedList",
                    "undo", "redo", "fontSize", "fontFamily", "color", "backgroundColor",
                    "insertLink", "insertImage"
                ];

                $(".editor").Arte();

                $(".toolbar").ArteToolbar({
                    buttons: buttons
                });

            };

            var destroyEditor = function () {
                $(".editor").Arte("destroy");
                $(".toolbar").ArteToolbar("destroy");
            };



            $(".commandAttrTypeSelector input").on("change", function (e) {
                var commandAttrType = $(this).val();
                $.Arte.configuration.commandAttrType = commandAttrType;
                $.Arte.Toolbar.configuration.commandAttrType = commandAttrType;

                destroyEditor();
                createEditor();
            });

            $(function () {
                $.Arte.configuration.allowOpsOnCollapsedSelection = false;
                
                $.extend(true, $.Arte.Toolbar.configuration, {
                    classes: {
                        "dialog":
                        {
                            "insertLink": {
                                "label": "add-on",
                                "input": "input-medium"
                            }
                        }
                    }
                });

                createEditor();

                function update() {
                    var editor = $(".editor").Arte().get(0);
                    $(".result").html(editor.outerValue());
                    $(".resultHtml").text(editor.outerValue());
                };

                $(".editor").on("onvaluechange", update);
                update();
            });
        </script>
    </body>
</html>